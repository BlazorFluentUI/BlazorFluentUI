function preventZoom(n){n.ctrlKey===!0&&(n.which===61||n.which===107||n.which===173||n.which===109||n.which===187||n.which===189)&&n.preventDefault()}let BlockEmbed=Quill.import("blots/block/embed");class ImageBlot extends BlockEmbed{static create(n){let t=super.create();return t.setAttribute("alt",n.alt),t.setAttribute("src",n.src),n.width!==undefined&&n.width!==null&&t.setAttribute("width",n.width),n.height!==undefined&&n.height!==null&&t.setAttribute("height",n.height),t}static value(n){return{alt:n.getAttribute("alt"),url:n.getAttribute("src"),width:n.getAttribute("width"),height:n.getAttribute("height")}}}ImageBlot.blotName="image";ImageBlot.tagName="img";Quill.register(ImageBlot);var BlazorFluentUiRichTextEditor={count:0,allInstances:{},zoomPrevented:!1,lastSelection:null,register:function(n,t){let i=this.count++,r=new Quill(n),u=this;r.on("editor-change",function(n,...f){n==="text-change"?t.invokeMethodAsync("TextChangedAsync",{html:r.root.innerHTML,source:f[2]}):n==="selection-change"&&(f[0]!==null&&f[0]!==undefined&&(u.lastSelection=f[0]),f[1]!=="silent"&&(f[0]===null||t.invokeMethodAsync("SelectionChangedAsync",u.getFormat(i))))});return this.allInstances[i]=r,i},unregister:function(n){let t=this.allInstances[n];delete this.allInstances[n]},preventZoomEnable:function(n){!this.zoomPrevented&&n?(this.zoomPrevented=!0,document.onkeydown=preventZoom):this.zoomPrevented&&!n&&(this.zoomPrevented=!1,document.onkeydown=null)},setReadonly:function(n,t){let i=this.allInstances[n];t?i.disable():i.enable()},setHtmlContent:function(n,t){let i=this.allInstances[n];var r=i.getSelection();i.root.innerHTML!==t&&(i.root.innerHTML=t,this.setEditorSelection(i,r))},setEditorSelection:function(n,t){if(t){var i=n.getLength();t.index=Math.max(0,Math.min(t.index,i-1));t.length=Math.max(0,Math.min(t.length,i-1-t.index))}n.setSelection(t)},getHtmlContent:function(n){let t=this.allInstances[n];return t.root.innerHTML},setFormat:function(n,t,i=true){let r=this.allInstances[n];if(r===null)return null;t==="superscript"?r.format("script",i?"super":""):t==="subscript"?r.format("script",i?"sub":""):r.format(t,i)},getFormat:function(n){let i=this.allInstances[n];if(i===null)return null;try{var t=i.getFormat();return t.script!==undefined&&(t.script==="super"?t.superscript=!0:t.script==="sub"&&(t.subscript=!0)),t}catch(r){return null}},insertImage:function(n,t,i,r,u){let f=this.allInstances[n];f.insertEmbed(this.lastSelection?this.lastSelection.index:0,"image",{src:t,alt:i,width:r!==null?r:undefined,height:u!==null?u:undefined})}};
//# sourceMappingURL=richTextEditor.min.js.map