var BlazorFluentUiBaseComponent,BlazorFluentUiCallout,BlazorFluentUiFocusTrapZone,BlazorFluentUiFocusZone,BlazorFluentUiList,BlazorFluentUiPanel;!function(t){const e="data-is-focusable",n="data-is-scrollable",o="data-is-visible",i="data-focuszone-id",s="data-is-sub-focuszone",r="ms-Fabric--isFocusVisible";function l(t){window.document.body.classList.contains(r)&&window.document.body.classList.remove(r)}function u(t){var e;e=t.which,a[e]&&!window.document.body.classList.contains(r)&&window.document.body.classList.add(r)}t.initializeFocusRects=function(){window.__hasInitializeFocusRects__||(window.__hasInitializeFocusRects__=!0,window.addEventListener("mousedown",l,!0),window.addEventListener("keydown",u,!0))};const a={38:1,40:1,37:1,39:1,36:1,35:1,9:1,33:1,34:1};var c=0;t.enableBodyScroll=function(){c>0&&(1===c&&(document.body.classList.remove("disabledBodyScroll"),document.body.removeEventListener("touchmove",h)),c--)},t.disableBodyScroll=function(){c||(document.body.classList.add("disabledBodyScroll"),document.body.addEventListener("touchmove",h,{passive:!1,capture:!1})),c++};const h=t=>{t.preventDefault()};t.getClientHeight=function(t){return null==t?0:t.clientHeight},t.getScrollHeight=function(t){return null==t?0:t.scrollHeight},t.findScrollableParent=function(t){let e=t;for(;e&&e!==document.body;){if("true"===e.getAttribute(n))return e;e=e.parentElement}for(e=t;e&&e!==document.body;){if("false"!==e.getAttribute(n)){const t=getComputedStyle(e);let n=t?t.getPropertyValue("overflow-y"):"";if(n&&("scroll"===n||"auto"===n))return e}e=e.parentElement}return e&&e!==document.body||(e=window),e},t.measureElement=function(t){return{width:t.clientWidth,height:t.clientHeight,left:0,top:0}},t.getNaturalBounds=function(t){return t&&null!==t?{width:t.naturalWidth,height:t.naturalHeight,left:0,top:0}:null},t.supportsObjectFit=function(){return void 0!==window&&void 0===window.navigator.msMaxTouchPoints},t.hasOverflow=function(t){return!1},t.measureScrollWindow=function(t){return{width:t.scrollWidth,height:t.scrollHeight,top:t.scrollTop,left:t.scrollLeft,bottom:t.scrollTop+t.clientHeight,right:t.scrollLeft+t.clientWidth}},t.measureScrollDimensions=function(t){return{scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth}},t.measureElementRect=function(t){if(void 0!==t&&null!==t){var e=t.getBoundingClientRect();return{height:e.height,width:e.width,left:e.left,right:e.right,top:e.top,bottom:e.bottom}}return{height:0,width:0,left:0,right:0,top:0,bottom:0}},t.getWindow=function(t){return t.ownerDocument.defaultView},t.getWindowRect=function(){return{width:window.innerWidth,height:window.innerHeight,top:0,left:0}},t.getElementId=function(t){return void 0!==t?t.id:null};var d={},f={};t.registerKeyEventsForList=function(t){if(t instanceof HTMLElement){var e=m.newGuid();return f[e]=[t,e=>{let n;const o=e.altKey||e.metaKey;switch(e.keyCode){case 38:o||(n=b(t,t.lastChild,!0));break;case 40:o||(n=v(t,t.firstChild,!0));break;default:return}n&&n.focus()}],t.addEventListener("keydown",f[e][1]),e}return null},t.deregisterKeyEventsForList=function(t){var e=f[t];if(e){var n=e[0],o=e[1];n.removeEventListener("keydown",o),f[t]=null}},t.registerWindowKeyDownEvent=function(t,e,n){var o=m.newGuid();return d[o]=(o=>{o.code==e&&(o.preventDefault(),o.stopPropagation(),t.invokeMethodAsync(n,o.code))}),window.addEventListener("keydown",d[o]),o},t.deregisterWindowKeyDownEvent=function(t){var e=d[t];window.removeEventListener("keydown",e),d[t]=null},t.registerResizeEvent=function(t,e){var n=m.newGuid();return d[n]=z(n=>{t.invokeMethodAsync(e,window.innerWidth,innerHeight)},100,{leading:!0}),window.addEventListener("resize",d[n]),n},t.deregisterResizeEvent=function(t){var e=d[t];window.removeEventListener("resize",e),d[t]=null};class m{static newGuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})}}function p(t,e){return t&&t!==document.body?e(t)?t:p(E(t),e):null}function g(t,e){let n=p(t,t=>t.hasAttribute(e));return n&&n.getAttribute(e)}t.findElementRecursive=p,t.elementContainsAttribute=g;var _={};function v(t,e,n){return B(t,e,!0,!1,!1,n)}function b(t,e,n){return y(t,e,!0,!1,!0,n)}function w(t,n){if(!t||t.disabled)return!1;let o=0,i=null;t&&t.getAttribute&&(i=t.getAttribute("tabIndex"))&&(o=parseInt(i,10));let s=t.getAttribute?t.getAttribute(e):null,r=null!==i&&o>=0;const l=!!t&&"false"!==s&&("A"===t.tagName||"BUTTON"===t.tagName||"INPUT"===t.tagName||"TEXTAREA"===t.tagName||"true"===s||r);return n?-1!==o&&l:l}function F(t){if(!t||!t.getAttribute)return!1;const e=t.getAttribute(o);return null!==e&&void 0!==e?"true"===e:0!==t.offsetHeight||null!==t.offsetParent||!0===t.isVisible}function E(t,e=!0){return t&&t.parentNode&&t.parentNode}function B(t,e,n,o,i,s,r,l){if(!e||e===t&&i&&!r)return null;let u=F(e);if(n&&u&&w(e,l))return e;if(!i&&u&&(s||!C(e)&&!A(e))){const n=B(t,e.firstElementChild,!0,!0,!1,s,r,l);if(n)return n}if(e===t)return null;const a=B(t,e.nextElementSibling,!0,!0,!1,s,r,l);return a||(o?null:B(t,e.parentElement,!1,!1,!0,s,r,l))}function y(t,e,n,o,i,s,r,l){if(!e||!r&&e===t)return null;let u=F(e);if(i&&u&&(s||!C(e)&&!A(e))){const n=y(t,e.lastElementChild,!0,!0,!0,s,r,l);if(n){if(l&&w(n,!0)||!l)return n;const o=y(t,n.previousElementSibling,!0,!0,!0,s,r,l);if(o)return o;let i=n.parentElement;for(;i&&i!==e;){const e=y(t,i.previousElementSibling,!0,!0,!0,s,r,l);if(e)return e;i=i.parentElement}}}if(n&&u&&w(e,l))return e;const a=y(t,e.previousElementSibling,!0,!0,!0,s,r,l);return a||(o?null:y(t,e.parentElement,!0,!1,!1,s,r,l))}function C(t){return!!(t&&t.getAttribute&&t.getAttribute(i))}function A(t){return!(!t||!t.getAttribute||"true"!==t.getAttribute(s))}function z(t,e,n){if(this._isDisposed){let t=()=>{};return t.cancel=(()=>{}),t.flush=(()=>null),t.pending=(()=>!1),t}let o,i,s=e||0,r=!1,l=!0,u=null,a=0,c=(new Date).getTime(),h=null;n&&"boolean"==typeof n.leading&&(r=n.leading),n&&"boolean"==typeof n.trailing&&(l=n.trailing),n&&"number"==typeof n.maxWait&&!isNaN(n.maxWait)&&(u=n.maxWait);let d=t=>{h&&(this.clearTimeout(h),h=null),c=t},f=e=>{d(e),o=t.apply(this._parent,i)},m=t=>{let e=(new Date).getTime(),n=!1;t&&(r&&e-a>=s&&(n=!0),a=e);let i=e-a,d=s-i,p=e-c,g=!1;return null!==u&&(p>=u&&h?g=!0:d=Math.min(d,u-p)),i>=s||g||n?f(e):null!==h&&t||!l||(h=this.setTimeout(m,d)),o},p=()=>!!h,g=(...t)=>(i=t,m(!0));return g.cancel=(()=>{p()&&d((new Date).getTime())}),g.flush=(()=>(p()&&f((new Date).getTime()),o)),g.pending=p,g}t.storeLastFocusedElement=function(){let t=document.activeElement;if(t){let e=m.newGuid();return _[e]=t,e}return null},t.restoreLastFocus=function(t,e=!0){var n=_[t];null!=n&&(e&&n.focus(),delete _[t])},t.getActiveElement=function(){return document.activeElement},t.focusElement=function(t){t.focus()},t.focusFirstElementChild=function(t){let e=this.getFirstFocusable(t,t,!0);e?e.focus():t.focus()},t.shouldWrapFocus=function(t,e){return"true"!==g(t,e)},t.getFocusableByIndexPath=function(t,e){let n=t;for(const t of e){const e=n.children[Math.min(t,n.children.length-1)];if(!e)break;n=e}return{element:n=w(n)&&F(n)?n:B(t,n,!0)||y(t,n),isNull:!n}},t.getFirstFocusable=v,t.getLastFocusable=b,t.isElementTabbable=w,t.isElementVisible=F,t.focusFirstChild=function(t){return!1},t.getParent=E,t.elementContains=function(t,e,n=!0){let o=!1;if(t&&e)if(n)for(o=!1;e;){let n=E(e);if(n===t){o=!0;break}e=n}else t.contains&&(o=t.contains(e));return o},t.getNextElement=B,t.getPreviousElement=y,t.raiseClick=function(t){const e=function(t){let e;return"function"==typeof Event?e=new Event(t):(e=document.createEvent("Event")).initEvent(t,!0,!0),e}("MouseEvents");e.initEvent("click",!0,!0),t.dispatchEvent(e)},t.isElementFocusZone=C,t.isElementFocusSubZone=A,t.on=function(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)},t.debounce=z;const T="isRTL";let L;function x(t,e=!1){let n=document;n&&n.documentElement.setAttribute("dir",t?"rtl":"ltr"),e&&I(T,t?"1":"0"),L=t}function U(t){let e=null;try{e=window.sessionStorage.getItem(t)}catch(t){}return e}function I(t,e){try{window.sessionStorage.setItem(t,e)}catch(t){}}t.getRTL=function(){if(void 0===L){let t=U(T);null!==t&&x(L="1"===t);let e=document;void 0===L&&e&&(L="rtl"===(e.body&&e.body.getAttribute("dir")||e.documentElement.getAttribute("dir")))}return!!L},t.setRTL=x,t.getItem=U,t.setItem=I}(BlazorFluentUiBaseComponent||(BlazorFluentUiBaseComponent={})),window.BlazorFluentUiBaseComponent=BlazorFluentUiBaseComponent,function(t){t.registerHandlers=function(t,o){var i=t.ownerDocument.defaultView,s=e.addCallout(t);return[e.addListener(i,"scroll",e=>{n(e,t)&&o.invokeMethodAsync("ScrollHandler")},!0),e.addListener(i,"resize",e=>{n(e,t)&&o.invokeMethodAsync("ResizeHandler")},!0),e.addListener(document.documentElement,"focus",t=>{var i=!0;for(let o in e.targetCombinedElements)if(Object.prototype.hasOwnProperty.call(e.targetCombinedElements,o)&&0==(i=n(t,e.targetCombinedElements[o])))break;i&&o.invokeMethodAsync("FocusHandler")},!0),e.addListener(document.documentElement,"click",t=>{var i=!0;for(let o in e.targetCombinedElements)if(Object.prototype.hasOwnProperty.call(e.targetCombinedElements,o)&&0==(i=n(t,e.targetCombinedElements[o])))break;i&&o.invokeMethodAsync("ClickHandler")},!0),s]},t.unregisterHandlers=function(t){e.removeCallout(t[t.length-1]);var n=t.slice(0,t.length-1);for(let t of n)e.removeListener(t)};let e=(()=>{class t{static addCallout(t){return this.targetCombinedElements[this.i]=t,this.i++}static removeCallout(t){t in this.targetCombinedElements&&delete this.targetCombinedElements[t]}static addListener(t,e,n,o){return t.addEventListener(e,n,o),this.listeners[this.i]={capture:o,event:e,handler:n,element:t},this.i++}static removeListener(t){if(t in this.listeners){var e=this.listeners[t];e.element.removeEventListener(e.event,e.handler,e.capture),delete this.listeners[t]}}}return t.i=1,t.listeners={},t.targetCombinedElements={},t})();function n(t,e){return!function(t,e,n=!0){let i=!1;if(t&&e)if(n)for(i=!1;e;){let n=o(e);if(n===t){i=!0;break}e=n}else t.contains&&(i=t.contains(e));return i}(e,t.target)}function o(t){return t&&t.parentNode&&t.parentNode}t.getWindow=function(t){return t.ownerDocument.defaultView},t.getWindowRect=function(){return{width:window.innerWidth,height:window.innerHeight,top:0,left:0}}}(BlazorFluentUiCallout||(BlazorFluentUiCallout={})),window.BlazorFluentUiCallout=BlazorFluentUiCallout||{},function(t){const e="data-is-focusable",n="data-is-visible",o="data-focuszone-id",i="data-is-sub-focuszone";let s=(()=>{class t{constructor(t,e){this._hasFocus=!0,this._onRootFocus=(t=>{this._hasFocus=!0}),this._onRootBlur=(t=>{let e=t.relatedTarget;null===t.relatedTarget&&(e=document.activeElement),u(this._props.rootElement,e)||(this._hasFocus=!1)}),this._onFirstBumperFocus=(()=>{this._onBumperFocus(!0)}),this._onLastBumperFocus=(()=>{this._onBumperFocus(!1)}),this._onBumperFocus=(t=>{if(this._props.disabled)return;const e=t===this._hasFocus?this._props.lastBumper:this._props.firstBumper;if(this._props.rootElement){const n=t===this._hasFocus?function(t,e,n,o=!0){return function t(e,n,o,i,s,r,l,u){if(!n||!l&&n===e)return null;let a=d(n);if(s&&a&&(r||!m(n)&&!p(n))){const o=t(e,n.lastElementChild,!0,!0,!0,r,l,u);if(o){if(u&&f(o,!0)||!u)return o;const i=t(e,o.previousElementSibling,!0,!0,!0,r,l,u);if(i)return i;let s=o.parentElement;for(;s&&s!==n;){const n=t(e,s.previousElementSibling,!0,!0,!0,r,l,u);if(n)return n;s=s.parentElement}}}if(o&&a&&f(n,u))return n;const c=t(e,n.previousElementSibling,!0,!0,!0,r,l,u);if(c)return c;if(!i)return t(e,n.parentElement,!0,!1,!1,r,l,u);return null}(t,e,o,!1,!0,n,!1,!0)}(this._props.rootElement,e,!0,!1):function(t,e,n,o=!0){return h(t,e,o,!1,!1,n,!1,!0)}(this._props.rootElement,e,!0,!1);n&&(this._isBumper(n)?this.focus():n.focus())}}),this._props=t,this._dotNetRef=e,this._props.rootElement.addEventListener("focus",this._onRootFocus,!1),this._props.rootElement.addEventListener("blur",this._onRootBlur,!1),this._props.firstBumper.addEventListener("focus",this._onFirstBumperFocus,!1),this._props.lastBumper.addEventListener("focus",this._onLastBumperFocus,!1),this._bringFocusIntoZone()}unRegister(){this._props.rootElement.removeEventListener("focus",this._onRootFocus,!1),this._props.rootElement.removeEventListener("blur",this._onRootBlur,!1),this._props.firstBumper.removeEventListener("focus",this._onFirstBumperFocus,!1),this._props.lastBumper.removeEventListener("focus",this._onLastBumperFocus,!1)}updateProps(t){this._prevProps=this._props,this._props=t,!this._prevProps.forceFocusInsideTrap&&this._props.forceFocusInsideTrap||this._prevProps.disabled&&!this._props.disabled?this._bringFocusIntoZone():(this._prevProps.forceFocusInsideTrap&&!this._props.forceFocusInsideTrap||!this._prevProps.disabled&&this._props.disabled)&&this._returnFocusToInitiator()}setDisabled(t){this._props.disabled=t}_bringFocusIntoZone(){const{elementToFocusOnDismiss:e,disabled:n=!1,disableFirstFocus:o=!1,rootElement:i}=this._props;n||(t._focusStack.push(this),this._previouslyFocusedElementOutsideTrapZone=e&&null!=e.__internalId?e:document.activeElement,o||u(i,this._previouslyFocusedElementOutsideTrapZone)||this.focus())}_returnFocusToInitiator(){const{ignoreExternalFocusing:e,rootElement:n}=this._props;t._focusStack=t._focusStack.filter(t=>this!==t);const o=document.activeElement;e||!this._previouslyFocusedElementOutsideTrapZone||"function"!=typeof this._previouslyFocusedElementOutsideTrapZone.focus||!u(n,o)&&o!==document.body||this._focusAsync(this._previouslyFocusedElementOutsideTrapZone)}_focusAsync(t){this._isBumper(t)||function(t){if(t){if(c)return void(c=t);c=t,window.requestAnimationFrame(()=>{c&&c.focus(),c=void 0})}}(t)}_isBumper(t){return t===this._props.firstBumper||t===this._props.lastBumper}focus(){const{focusPreviouslyFocusedInnerElement:t,firstFocusableSelector:e,rootElement:n}=this._props;if(t&&this._previouslyFocusedElementInTrapZone&&u(n,this._previouslyFocusedElementInTrapZone))return void this._focusAsync(this._previouslyFocusedElementInTrapZone);const o=e;let i=null;n&&(o&&(i=n.querySelector("."+o)),i||(i=h(n,n.firstChild,!1,!1,!1,!0))),i&&this._focusAsync(i)}}return t._focusStack=[],t})();var r=0,l={};function u(t,e,n=!0){let o=!1;if(t&&e)if(n)for(o=!1;e;){let n=a(e);if(console.log("NextParent: "+n),n===t){o=!0;break}e=n}else t.contains&&(o=t.contains(e));return o}function a(t,e=!0){return t&&t.parentNode&&t.parentNode}t.register=function(t,e){let n=r++;return l[n]=new s(t,e),n},t.unregister=function(t){let e=l[t];e&&e.unRegister(),delete l[t]},t.updateProps=function(t,e){let n=l[t];n&&n.updateProps(e)},t.focus=function(t){let e=l[t];e&&e.focus()},t.elementContains=u,t.getParent=a;let c=void 0;function h(t,e,n,o,i,s,r,l){if(!e||e===t&&i&&!r)return null;let u=d(e);if(n&&u&&f(e,l))return e;if(!i&&u&&(s||!m(e)&&!p(e))){const n=h(t,e.firstElementChild,!0,!0,!1,s,r,l);if(n)return n}if(e===t)return null;const a=h(t,e.nextElementSibling,!0,!0,!1,s,r,l);return a||(o?null:h(t,e.parentElement,!1,!1,!0,s,r,l))}function d(t){if(!t||!t.getAttribute)return!1;const e=t.getAttribute(n);return null!==e&&void 0!==e?"true"===e:0!==t.offsetHeight||null!==t.offsetParent||!0===t.isVisible}function f(t,n){if(!t||t.disabled)return!1;let o=0,i=null;t&&t.getAttribute&&(i=t.getAttribute("tabIndex"))&&(o=parseInt(i,10));let s=t.getAttribute?t.getAttribute(e):null,r=null!==i&&o>=0;const l=!!t&&"false"!==s&&("A"===t.tagName||"BUTTON"===t.tagName||"INPUT"===t.tagName||"TEXTAREA"===t.tagName||"true"===s||r);return n?-1!==o&&l:l}function m(t){return!!(t&&t.getAttribute&&t.getAttribute(o))}function p(t){return!(!t||!t.getAttribute||"true"!==t.getAttribute(i))}}(BlazorFluentUiFocusTrapZone||(BlazorFluentUiFocusTrapZone={})),window.BlazorFluentUiFocusTrapZone=BlazorFluentUiFocusTrapZone||{},function(t){let e,n;!function(t){t[t.vertical=0]="vertical",t[t.horizontal=1]="horizontal",t[t.bidirectional=2]="bidirectional",t[t.domOrder=3]="domOrder"}(e||(e={})),function(t){t[t.none=0]="none",t[t.all=1]="all",t[t.inputOnly=2]="inputOnly"}(n||(n={}));const o="data-is-focusable",i="data-focuszone-id",s="data-disable-click-on-enter",r="tabindex",l="data-no-vertical-wrap",u="data-no-horizontal-wrap",a=999999999,c=-999999999,h=["text","number","password","email","tel","url","search"],d=!1;var f=0,m={},p=new Set;let g;t.register=function(t,e){let n=f++;return m[n]=new _(t,e),n},t.unregister=function(t){let e=m[t];e&&e.unRegister(),delete m[t]},t.updateFocusZone=function(t,e){let n=m[t];n&&n.updateFocusZone(e)};class _{constructor(t,o){this._disposables=[],this._onBlur=(()=>{this._setParkedFocus(!1)}),this._onKeyDown=(t=>{if(this._portalContainsElement(t.target))return;const{direction:o,disabled:i,innerZoneKeystrokeTriggers:s}=this._focusZoneProps;if(!i&&!(t.defaultPrevented||document.activeElement===this._root&&this._isInnerZone)){if(s&&-1!=s.indexOf(t.keyCode)&&this._isImmediateDescendantOfZone(t.target)){const e=this._getFirstInnerZone();if(e){if(!e.focus(!0))return}else{if(!window.BlazorFluentUiBaseComponent.isElementFocusSubZone(t.target))return;if(!this.focusElement(window.BlazorFluentUiBaseComponent.getNextElement(t.target,t.target.firstChild,!0)))return}}else{if(t.altKey)return;switch(t.which){case 32:if(this._tryInvokeClickForFocusable(t.target))break;return;case 37:if(o!==e.vertical&&this._moveFocusLeft())break;return;case 39:if(o!==e.vertical&&this._moveFocusRight())break;return;case 38:if(o!==e.horizontal&&this._moveFocusUp())break;return;case 40:if(o!==e.horizontal&&this._moveFocusDown())break;return;case 9:if(this._focusZoneProps.handleTabKey===n.all||this._focusZoneProps.handleTabKey===n.inputOnly&&this._isElementInput(t.target)){let n=!1;if(this._processingTabKey=!0,o!==e.vertical&&this._shouldWrapFocus(this._activeElement,u)){if(o===e.horizontal||o===e.bidirectional){n=(window.BlazorFluentUiBaseComponent.getRTL()?!t.shiftKey:t.shiftKey)?this._moveFocusLeft():this._moveFocusRight()}}else n=t.shiftKey?this._moveFocusUp():this._moveFocusDown();if(this._processingTabKey=!1,n)break}return;case 36:if(this._isElementInput(t.target)&&!this._shouldInputLoseFocus(t.target,!1))return;const i=this._root&&this._root.firstChild;if(this._root&&i&&this.focusElement(window.BlazorFluentUiBaseComponent.getNextElement(this._root,i,!0)))break;return;case 35:if(this._isElementInput(t.target)&&!this._shouldInputLoseFocus(t.target,!0))return;const s=this._root&&this._root.lastChild;if(this._root&&this.focusElement(window.BlazorFluentUiBaseComponent.getPreviousElement(this._root,s,!0,!0,!0)))break;return;case 13:if(this._tryInvokeClickForFocusable(t.target))break;return;default:return}}t.preventDefault(),t.stopPropagation()}}),this._onFocus=(t=>{if(this._portalContainsElement(t.target))return;const{doNotAllowFocusEventToPropagate:e}=this._focusZoneProps,n=this._isImmediateDescendantOfZone(t.target);let o;if(this._dotNetRef.invokeMethodAsync("JSOnFocusNotification"),n)o=t.target;else{let e=t.target;for(;e&&e!==this._root;){if(window.BlazorFluentUiBaseComponent.isElementTabbable(e)&&this._isImmediateDescendantOfZone(e)){o=e;break}e=window.BlazorFluentUiBaseComponent.getParent(e,d)}}const i=!this._activeElement;o&&o!==this._activeElement&&((n||i)&&this._setFocusAlignment(o,!0,!0),this._activeElement=o,i&&this._updateTabIndexes()),this._dotNetRef.invokeMethodAsync("JSOnActiveElementChanged"),e&&t.stopPropagation()}),this._onKeyDownCapture=(t=>{9===t.which&&p.forEach(t=>t._updateTabIndexes())}),this._onMouseDown=(t=>{if(this._portalContainsElement(t.target))return;const{disabled:e}=this._focusZoneProps;if(e)return;let n=t.target;const o=[];for(;n&&n!==this._root;)o.push(n),n=window.BlazorFluentUiBaseComponent.getParent(n,d);for(;o.length&&((n=o.pop())&&window.BlazorFluentUiBaseComponent.isElementTabbable(n)&&this._setActiveElement(n,!0),!window.BlazorFluentUiBaseComponent.isElementFocusZone(n)););}),this._root=t.root,this._focusZoneProps=t,this._dotNetRef=o,this._focusAlignment={x:0,y:0},this._root.addEventListener("keydown",this._onKeyDown,!1),this._root.addEventListener("focusin",this._onFocus,!1),this._root.addEventListener("mousedown",this._onMouseDown,!1),this.initialized()}updateFocusZone(t){if(this._focusZoneProps=t,m[t.id]=this,this._root){const t=window.BlazorFluentUiBaseComponent.getWindow(this._root);let e=window.BlazorFluentUiBaseComponent.getParent(this._root,d);for(;e&&e!==document.body&&1===e.nodeType;){if(window.BlazorFluentUiBaseComponent.isElementFocusZone(e)){this._isInnerZone=!0;break}e=window.BlazorFluentUiBaseComponent.getParent(e,d)}this._isInnerZone||p.add(this),t&&1===p.size&&(g=window.BlazorFluentUiBaseComponent.on(t,"keydown",this._onKeyDownCapture,!0)),this._disposables.push(window.BlazorFluentUiBaseComponent.on(this._root,"blur",this._onBlur,!0)),this._updateTabIndexes(),null!==this._focusZoneProps.defaultActiveElement.__internalId&&this._activeElement!=this._focusZoneProps.defaultActiveElement&&(this._activeElement=this._focusZoneProps.defaultActiveElement,this.focus())}}initialized(){const t=window.BlazorFluentUiBaseComponent.getWindow(this._root);let e=window.BlazorFluentUiBaseComponent.getParent(this._root,d);for(;e&&e!==document.body&&1===e.nodeType;){if(window.BlazorFluentUiBaseComponent.isElementFocusZone(e)){this._isInnerZone=!0;break}e=window.BlazorFluentUiBaseComponent.getParent(e,d)}this._isInnerZone||p.add(this),t&&1===p.size&&(g=window.BlazorFluentUiBaseComponent.on(t,"keydown",this._onKeyDownCapture,!0)),this._disposables.push(window.BlazorFluentUiBaseComponent.on(this._root,"blur",this._onBlur,!0)),this._updateTabIndexes(),null!==this._focusZoneProps.defaultActiveElement.__internalId&&(this._activeElement=this._focusZoneProps.defaultActiveElement,this.focus())}_setParkedFocus(t){this._root&&this._isParked!==t&&(this._isParked=t,t?(this._focusZoneProps.allowFocusRoot||(this._parkedTabIndex=this._root.getAttribute("tabindex"),this._root.setAttribute("tabindex","-1")),this._root.focus()):this._focusZoneProps.allowFocusRoot||(this._parkedTabIndex?(this._root.setAttribute("tabindex",this._parkedTabIndex),this._parkedTabIndex=void 0):this._root.removeAttribute("tabindex")))}unRegister(){this._isInnerZone||p.delete(this),this._disposables.forEach(t=>t()),0===p.size&&g&&g(),this._root.removeEventListener("keydown",this._onKeyDown,!1),this._root.removeEventListener("focus",this._onFocus,!1),this._root.removeEventListener("mousedown",this._onMouseDown,!1)}focus(t=!1){if(this._root){if(!t&&"true"===this._root.getAttribute(o)&&this._isInnerZone){const t=this._getOwnerZone(this._root);if(t!==this._root){const e=m[t.getAttribute(i)];return!!e&&e.focusElement(this._root)}return!1}if(!t&&this._activeElement&&window.BlazorFluentUiBaseComponent.elementContains(this._root,this._activeElement)&&window.BlazorFluentUiBaseComponent.isElementTabbable(this._activeElement))return this._activeElement.focus(),!0;{const t=this._root.firstChild;return this.focusElement(window.BlazorFluentUiBaseComponent.getNextElement(this._root,t,!0))}}return!1}focusElement(t){const{onBeforeFocusExists:e}=this._focusZoneProps;return!(e&&!this._dotNetRef.invokeMethodAsync("JSOnBeforeFocus"))&&(!!t&&(this._setActiveElement(t),this._activeElement&&this._activeElement.focus(),!0))}_updateTabIndexes(t){!t&&this._root&&(this._defaultFocusElement=null,t=this._root,this._activeElement&&!window.BlazorFluentUiBaseComponent.elementContains(t,this._activeElement)&&(this._activeElement=null)),this._activeElement&&!window.BlazorFluentUiBaseComponent.isElementTabbable(this._activeElement)&&(this._activeElement=null);const e=t&&t.children;for(let t=0;e&&t<e.length;t++){const n=e[t];window.BlazorFluentUiBaseComponent.isElementFocusZone(n)?"true"===n.getAttribute(o)&&(this._isInnerZone||(this._activeElement||this._defaultFocusElement)&&this._activeElement!==n?"-1"!==n.getAttribute(r)&&n.setAttribute(r,"-1"):(this._defaultFocusElement=n,"0"!==n.getAttribute(r)&&n.setAttribute(r,"0"))):(n.getAttribute&&"false"===n.getAttribute(o)&&n.setAttribute(r,"-1"),window.BlazorFluentUiBaseComponent.isElementTabbable(n)?this._focusZoneProps.disabled?n.setAttribute(r,"-1"):this._isInnerZone||(this._activeElement||this._defaultFocusElement)&&this._activeElement!==n?"-1"!==n.getAttribute(r)&&n.setAttribute(r,"-1"):(this._defaultFocusElement=n,"0"!==n.getAttribute(r)&&n.setAttribute(r,"0")):"svg"===n.tagName&&"false"!==n.getAttribute("focusable")&&n.setAttribute("focusable","false")),this._updateTabIndexes(n)}}_getOwnerZone(t){let e=window.BlazorFluentUiBaseComponent.getParent(t,d);for(;e&&e!==this._root&&e!==document.body;){if(window.BlazorFluentUiBaseComponent.isElementFocusZone(e))return e;e=window.BlazorFluentUiBaseComponent.getParent(e,d)}return e}_setActiveElement(t,e){const n=this._activeElement;this._activeElement=t,n&&(window.BlazorFluentUiBaseComponent.isElementFocusZone(n)&&this._updateTabIndexes(n),n.tabIndex=-1),this._activeElement&&(this._focusAlignment&&!e||this._setFocusAlignment(t,!0,!0),this._activeElement.tabIndex=0)}_setFocusAlignment(t,n,o){if(this._focusZoneProps.direction===e.bidirectional&&(!this._focusAlignment||n||o)){const e=t.getBoundingClientRect(),i=e.left+e.width/2,s=e.top+e.height/2;this._focusAlignment||(this._focusAlignment={x:i,y:s}),n&&(this._focusAlignment.x=i),o&&(this._focusAlignment.y=s)}}_isImmediateDescendantOfZone(t){return this._getOwnerZone(t)===this._root}_getFirstInnerZone(t){if(!(t=t||this._activeElement||this._root))return null;if(window.BlazorFluentUiBaseComponent.isElementFocusZone(t))return m[t.getAttribute(i)];let e=t.firstElementChild;for(;e;){if(window.BlazorFluentUiBaseComponent.isElementFocusZone(e))return m[e.getAttribute(i)];const t=this._getFirstInnerZone(e);if(t)return t;e=e.nextElementSibling}return null}_tryInvokeClickForFocusable(t){if(t===this._root)return!1;do{if("BUTTON"===t.tagName||"A"===t.tagName||"INPUT"===t.tagName||"TEXTAREA"===t.tagName)return!1;if(this._isImmediateDescendantOfZone(t)&&"true"===t.getAttribute(o)&&"true"!==t.getAttribute(s))return window.BlazorFluentUiBaseComponent.raiseClick(t),!0;t=window.BlazorFluentUiBaseComponent.getParent(t,d)}while(t!==this._root);return!1}_portalContainsElement(t){return!1}_isElementInput(t){return!(!t||!t.tagName||"input"!==t.tagName.toLowerCase()&&"textarea"!==t.tagName.toLowerCase())}_shouldInputLoseFocus(t,e){if(!this._processingTabKey&&t&&t.type&&h.indexOf(t.type.toLowerCase())>-1){const n=t.selectionStart,o=n!==t.selectionEnd,i=t.value;if(o||n>0&&!e||n!==i.length&&e||this._focusZoneProps.handleTabKey&&(!this._focusZoneProps.shouldInputLoseFocusOnArrowKeyExists||!this._dotNetRef.invokeMethodAsync("JSShouldInputLoseFocusOnArrowKey")))return!1}return!0}_shouldWrapFocus(t,e){return!this._focusZoneProps.checkForNoWrap||window.BlazorFluentUiBaseComponent.shouldWrapFocus(t,e)}_moveFocus(t,n,o,i=!0){let s=this._activeElement,r=-1,l=void 0,u=!1;const a=this._focusZoneProps.direction===e.bidirectional;if(!s||!this._root)return!1;if(this._isElementInput(s)&&!this._shouldInputLoseFocus(s,t))return!1;const c=a?s.getBoundingClientRect():null;do{if(s=t?window.BlazorFluentUiBaseComponent.getNextElement(this._root,s):window.BlazorFluentUiBaseComponent.getPreviousElement(this._root,s),!a){l=s;break}if(s){const t=n(c,s.getBoundingClientRect());if(-1===t&&-1===r){l=s;break}if(t>-1&&(-1===r||t<r)&&(r=t,l=s),r>=0&&t<0)break}}while(s);if(l&&l!==this._activeElement)u=!0,this.focusElement(l);else if(this._focusZoneProps.isCircularNavigation&&i)return t?this.focusElement(window.BlazorFluentUiBaseComponent.getNextElement(this._root,this._root.firstElementChild,!0)):this.focusElement(window.BlazorFluentUiBaseComponent.getPreviousElement(this._root,this._root.lastElementChild,!0,!0,!0));return u}_moveFocusDown(){let t=-1;const e=this._focusAlignment.x;return!!this._moveFocus(!0,(n,o)=>{let i=-1;const s=Math.floor(o.top),r=Math.floor(n.bottom);return s<r?this._shouldWrapFocus(this._activeElement,l)?a:c:((-1===t&&s>=r||s===t)&&(t=s,i=e>=o.left&&e<=o.left+o.width?0:Math.abs(o.left+o.width/2-e)),i)})&&(this._setFocusAlignment(this._activeElement,!1,!0),!0)}_moveFocusUp(){let t=-1;const e=this._focusAlignment.x;return!!this._moveFocus(!1,(n,o)=>{let i=-1;const s=Math.floor(o.bottom),r=Math.floor(o.top),u=Math.floor(n.top);return s>u?this._shouldWrapFocus(this._activeElement,l)?a:c:((-1===t&&s<=u||r===t)&&(t=r,i=e>=o.left&&e<=o.left+o.width?0:Math.abs(o.left+o.width/2-e)),i)})&&(this._setFocusAlignment(this._activeElement,!1,!0),!0)}_moveFocusLeft(){const t=this._shouldWrapFocus(this._activeElement,u);return!!this._moveFocus(window.BlazorFluentUiBaseComponent.getRTL(),(n,o)=>{let i,s=-1;return(i=window.BlazorFluentUiBaseComponent.getRTL()?parseFloat(o.top.toFixed(3))<parseFloat(n.bottom.toFixed(3)):parseFloat(o.bottom.toFixed(3))>parseFloat(n.top.toFixed(3)))&&o.right<=n.right&&this._focusZoneProps.direction!==e.vertical?s=n.right-o.right:t||(s=c),s},void 0,t)&&(this._setFocusAlignment(this._activeElement,!0,!1),!0)}_moveFocusRight(){const t=this._shouldWrapFocus(this._activeElement,u);return!!this._moveFocus(!window.BlazorFluentUiBaseComponent.getRTL(),(n,o)=>{let i,s=-1;return(i=window.BlazorFluentUiBaseComponent.getRTL()?parseFloat(o.bottom.toFixed(3))>parseFloat(n.top.toFixed(3)):parseFloat(o.top.toFixed(3))<parseFloat(n.bottom.toFixed(3)))&&o.left>=n.left&&this._focusZoneProps.direction!==e.vertical?s=o.left-n.left:t||(s=c),s},void 0,t)&&(this._setFocusAlignment(this._activeElement,!0,!1),!0)}}}(BlazorFluentUiFocusZone||(BlazorFluentUiFocusZone={})),window.BlazorFluentUiFocusZone=BlazorFluentUiFocusZone||{},function(t){t.measureElement=function(t){return{width:t.clientWidth,height:t.clientHeight,left:0,top:0}},t.measureScrollWindow=function(t){return{width:t.scrollWidth,height:t.scrollHeight,top:t.scrollTop,left:t.scrollLeft,bottom:t.scrollTop+t.clientHeight,right:t.scrollLeft+t.clientWidth}},t.measureElementRect=function(t){var e=t.getBoundingClientRect();return{height:e.height,width:e.width,left:e.left,right:e.right,top:e.top,bottom:e.bottom,cheight:t.clientHeight,cwidth:t.clientWidth,test:"Random!"}};var e=0,n=new Map;class o{constructor(t,n,o,i){this.cachedSizes=new Map,this.averageHeight=40,this.id=e++,this.component=t,this.scrollElement=n,this.spacerBefore=o,this.spacerAfter=i;this.intersectionObserver=new IntersectionObserver((t,e)=>{t.forEach(t=>{t.isIntersecting&&t.target.offsetHeight>0&&window.requestIdleCallback(()=>{const e=t.target===this.spacerBefore?"before":"after",n={top:t.intersectionRect.top-t.boundingClientRect.top,left:t.intersectionRect.left-t.boundingClientRect.left,width:t.intersectionRect.width,height:t.intersectionRect.height,bottom:this.scrollElement.scrollHeight,right:this.scrollElement.scrollWidth};this.component.invokeMethodAsync("OnSpacerVisible",e,n,this.scrollElement.offsetHeight+100,this.spacerBefore.offsetHeight,this.spacerAfter.offsetHeight)})})},{root:n,rootMargin:"50px"}),this.intersectionObserver.observe(this.spacerBefore),this.intersectionObserver.observe(this.spacerAfter),this.mutationObserver=new MutationObserver(t=>{this.intersectionObserver.unobserve(this.spacerBefore),this.intersectionObserver.unobserve(this.spacerAfter),this.intersectionObserver.observe(this.spacerBefore),this.intersectionObserver.observe(this.spacerAfter)}),this.mutationObserver.observe(o,{attributes:!0})}disconnect(){this.mutationObserver.disconnect(),this.intersectionObserver.unobserve(this.spacerBefore),this.intersectionObserver.unobserve(this.spacerAfter),this.intersectionObserver.disconnect()}getInitialAverageHeight(){let t=!1,e=0;for(let e=0;e<this.scrollElement.children.length;e++){let n=this.scrollElement.children.item(e),o=n.getAttribute("data-hash");null==o||this.cachedSizes.has(o)||this.cachedSizes.get(o)==n.clientHeight||(this.cachedSizes.set(o,n.clientHeight),t=!0)}return t&&(e=[...this.cachedSizes.values()].reduce((t,e,n,o)=>t+e)/this.cachedSizes.size),e}}t.getInitialAverageHeight=function(t){let e=n.get(t);return null==e?0:e.getInitialAverageHeight()},t.initialize=function(t,e,i,s,r=!1){let l=new o(t,e,i,s);return n.set(l.id,l),{top:0,left:l.id,width:e.clientWidth,height:e.clientHeight,bottom:e.scrollHeight,right:e.scrollWidth}},t.removeList=function(t){n.get(t).disconnect(),n.delete(t)},t.getViewport=function(t){return{top:0,left:0,width:t.clientWidth,height:t.clientHeight,bottom:t.scrollHeight,right:t.scrollWidth}}}(BlazorFluentUiList||(BlazorFluentUiList={})),window.BlazorFluentUiList=BlazorFluentUiList||{},function(t){let e=(()=>{class t{static addListener(t,e,n,o){return t.addEventListener(e,n,o),this.listeners[this.i]={capture:o,event:e,handler:n,element:t},this.i++}static removeListener(t){if(t in this.listeners){var e=this.listeners[t];e.element.removeEventListener(e.event,e.handler,e.capture),delete this.listeners[t]}}}return t.i=1,t.listeners={},t})();t.registerSizeHandler=function(t){return e.addListener(window,"resize",e=>{t.invokeMethodAsync("UpdateFooterPositionAsync")},!1)},t.registerMouseDownHandler=function(t,n){return e.addListener(document.body,"mousedown",e=>{if(!e.defaultPrevented){var o=BlazorFluentUiFocusTrapZone.elementContains(t,e.target);o||(e.preventDefault(),n.invokeMethodAsync("DismissOnOuterClick",o))}},!0)},t.unregisterHandler=function(t){e.removeListener(t)};const n="data-is-scrollable";t.makeElementScrollAllower=function(t){let o=0,i=null;return[e.addListener(t,"touchstart",t=>{1===t.targetTouches.length&&(o=t.targetTouches[0].clientY)},!1),e.addListener(t,"touchmove",t=>{if(1!==t.targetTouches.length)return;if(t.stopPropagation(),!i)return;const e=t.targetTouches[0].clientY-o,s=function(t){let e=t;for(;e&&e!==document.body;){if("true"===e.getAttribute(n))return e;e=e.parentElement}for(e=t;e&&e!==document.body;){if("false"!==e.getAttribute(n)){const t=getComputedStyle(e);let n=t?t.getPropertyValue("overflow-y"):"";if(n&&("scroll"===n||"auto"===n))return e}e=e.parentElement}return e&&e!==document.body||(e=window),e}(t.target);s&&(i=s),0===i.scrollTop&&e>0&&t.preventDefault(),i.scrollHeight-i.scrollTop<=i.clientHeight&&e<0&&t.preventDefault()},!1)]}}(BlazorFluentUiPanel||(BlazorFluentUiPanel={})),window.BlazorFluentUiPanel=BlazorFluentUiPanel||{};