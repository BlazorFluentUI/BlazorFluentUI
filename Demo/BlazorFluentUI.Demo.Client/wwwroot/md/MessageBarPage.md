@page "/messageBarPage"

<BFUStack>
    <BFUStackItem Align=Alignment.Start>
        <h1>MessageBar</h1>
    </BFUStackItem>
    <BFUStack>
        <BFUStack Tokens=@(new BFUStackTokens { ChildrenGap = new[] { 20.0 }, MaxWidth=650.0, Padding=8.0 })>
            <BFUStackItem>
                <BFUMessageBar>
                    Info/Default MessageBar.
                    <BFULink Href="https://github.com/BlazorFluentUI/BlazorFluentUI" Target="_blank">
                    Visit us on GitHub.
                    </BFULink>
                </BFUMessageBar>
            </BFUStackItem>
            <BFUStackItem>
                <BFUMessageBar MessageBarType="MessageBarType.Error" IsMultiline="false" OnDismiss="OnDismiss">
                    Error MessageBar with single line, with dismiss button.
                    <BFULink Href="https://github.com/BlazorFluentUI/BlazorFluentUI" Target="_blank">
                    Visit us on GitHub.
                    </BFULink>
                </BFUMessageBar>
            </BFUStackItem>
            <BFUStackItem>
                <BFUMessageBar MessageBarType=MessageBarType.Blocked
                            IsMultiline=false
                            OnDismiss="OnDismiss"
                            DismissButtonAriaLabel="Close"
                            Truncated=true
                            OverflowButtonAriaLabel="See more">
                    <b>Blocked MessageBar - single line, with dismiss button and truncated text.</b> Truncation is not available if you use action buttons
                    or multiline and should be used sparingly. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi luctus, purus a lobortis
                    tristique, odio augue pharetra metus, ac placerat nunc mi nec dui. Vestibulum aliquam et nunc semper scelerisque. Curabitur vitae orci
                    nec quam condimentum porttitor et sed lacus. Vivamus ac efficitur leo. Cras faucibus mauris libero, ac placerat erat euismod et. Donec
                    pulvinar commodo odio sit amet faucibus. In hac habitasse platea dictumst. Duis eu ante commodo, condimentum nibh pellentesque, laoreet
                    enim. Fusce massa lorem, ultrices eu mi a, fermentum suscipit magna. Integer porta purus pulvinar, hendrerit felis eget, condimentum
                    mauris.
                </BFUMessageBar>
            </BFUStackItem>
            <BFUStackItem>
                <BFUMessageBar MessageBarType=MessageBarType.SevereWarning>
                    <Actions>
                        <div>
                            <BFUMessageBarButton Text="Yes" />
                            <BFUMessageBarButton Text="No" />
                        </div>
                    </Actions>
                    <ChildContent>
                        SevereWarning MessageBar with action buttons which defaults to multiline.
                        <BFULink Href="https://github.com/BlazorFluentUI/BlazorFluentUI" Target="_blank">
                        Visit us on GitHub.
                        </BFULink>
                    </ChildContent>
                </BFUMessageBar>
            </BFUStackItem>
            <BFUStackItem>
                <BFUMessageBar MessageBarType=MessageBarType.Success
                            IsMultiline=false>
                    <Actions>
                        <div>
                            <BFUMessageBarButton Text="Yes" />
                            <BFUMessageBarButton Text="No" />
                        </div>
                    </Actions>
                    <ChildContent>
                        Success MessageBar with single line and action buttons.
                        <BFULink Href="https://github.com/BlazorFluentUI/BlazorFluentUI" Target="_blank">
                        Visit us on GitHub.
                        </BFULink>
                    </ChildContent>
                </BFUMessageBar>
            </BFUStackItem>
            <BFUStackItem>
                <BFUMessageBar MessageBarType=MessageBarType.Warning
                            IsMultiline=false
                            OnDismiss=@OnDismiss
                            DismissButtonAriaLabel="Close">
                    <Actions>
                        <div><BFUMessageBarButton Text="Action" /></div>
                    </Actions>
                    <ChildContent>
                        Warning MessageBar content.
                        <BFULink Href="https://github.com/BlazorFluentUI/BlazorFluentUI" Target="_blank">
                        Visit us on GitHub.
                        </BFULink>
                    </ChildContent>
                </BFUMessageBar>
            </BFUStackItem>
            <BFUStackItem>
                <BFUMessageBar OnDismiss=@OnDismiss
                            DismissButtonAriaLabel="Close"
                            MessageBarType=MessageBarType.Warning>
                    <Actions>
                        <div>
                            <BFUMessageBarButton Text="Yes" />
                            <BFUMessageBarButton Text="No" />
                        </div>
                    </Actions>
                    <ChildContent>
                        <b>Warning defaults to multiline</b>. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi luctus, purus a lobortis tristique,
                        odio augue pharetra metus, ac placerat nunc mi nec dui. Vestibulum aliquam et nunc semper scelerisque. Curabitur vitae orci nec quam
                        condimentum porttitor et sed lacus. Vivamus ac efficitur leo. Cras faucibus mauris libero, ac placerat erat euismod et. Donec pulvinar
                        commodo odio sit amet faucibus. In hac habitasse platea dictumst. Duis eu ante commodo, condimentum nibh pellentesque, laoreet enim.
                        Fusce massa lorem, ultrices eu mi a, fermentum suscipit magna. Integer porta purus pulvinar, hendrerit felis eget, condimentum mauris.
                        <BFULink Href="https://github.com/BlazorFluentUI/BlazorFluentUI" Target="_blank">
                        Visit us on GitHub.
                        </BFULink>
                    </ChildContent>
                </BFUMessageBar>
            </BFUStackItem>
            @if (onDismissIsClicked)
            {
            <BFUStackItem>
                <BFUMessageBar OnDismiss=@OnDismissClose
                            DismissButtonAriaLabel="Close">
                    <ChildContent>
                        OnDismiss has been clicked!
                    </ChildContent>
                    <Actions>
                        <div>
                            <BFUMessageBarButton OnClick=@OnDismissClose Text="Close" />
                        </div>
                    </Actions>
                </BFUMessageBar>
            </BFUStackItem>
            }
        </BFUStack>
    </BFUStack>
</BFUStack>

@code
{
    private bool onDismissIsClicked = false;
    private void OnDismiss()
    {
        onDismissIsClicked = true;
        StateHasChanged();
    }
    private void OnDismissClose()
    {
        onDismissIsClicked = false;
        StateHasChanged();
    }
}
